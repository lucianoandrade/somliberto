{"ast":null,"code":"import React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\nconst AuthGuard = props => {\n  const userStore = useSelector(store => store.user);\n  const {\n    user = {}\n  } = userStore;\n\n  const hasRegisterCompleted = user => !!user.full_name && !!user.cpf && !!user.phone_number;\n\n  const history = useHistory(); // const userStoree = useSelector(store => store.user || {});\n  // console.log(userStoree)\n\n  useEffect(() => {\n    switch (props.type) {\n      case \"exists\":\n        if (userStore.isAuthenticated) history.push(\"/\");\n        break;\n\n      case \"not-exists\":\n        if (userStore.isAuthenticated) history.push(\"/login\");\n        break;\n\n      case \"incomplete-registration\":\n        if (userStore.isAuthenticated) history.push(\"/login\");\n        if (!hasRegisterCompleted(user)) history.push(\"/seusdados\");\n        break;\n\n      default:\n        return;\n    }\n  }, [userStore, history, props.type, user]);\n  return React.createElement(React.Fragment, null);\n};\n\nexport default AuthGuard;","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/SomLivre/novo-frontend/src/components/features/PageContainer/Auth.js"],"names":["React","useEffect","useSelector","useHistory","AuthGuard","props","userStore","store","user","hasRegisterCompleted","full_name","cpf","phone_number","history","type","isAuthenticated","push"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,SAAS,GAAGC,KAAK,IAAI;AACzB,QAAMC,SAAS,GAAGJ,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACC,IAAhB,CAA7B;AACA,QAAM;AAAEA,IAAAA,IAAI,GAAG;AAAT,MAAgBF,SAAtB;;AACA,QAAMG,oBAAoB,GAAGD,IAAI,IAAI,CAAC,CAACA,IAAI,CAACE,SAAP,IAAoB,CAAC,CAACF,IAAI,CAACG,GAA3B,IAAkC,CAAC,CAACH,IAAI,CAACI,YAA9E;;AACA,QAAMC,OAAO,GAAGV,UAAU,EAA1B,CAJyB,CAMzB;AACA;;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACd,YAAQI,KAAK,CAACS,IAAd;AACE,WAAK,QAAL;AACE,YAAIR,SAAS,CAACS,eAAd,EAA+BF,OAAO,CAACG,IAAR,CAAa,GAAb;AAC/B;;AACF,WAAK,YAAL;AACE,YAAIV,SAAS,CAACS,eAAd,EAA+BF,OAAO,CAACG,IAAR,CAAa,QAAb;AAC/B;;AACF,WAAK,yBAAL;AACE,YAAIV,SAAS,CAACS,eAAd,EAA+BF,OAAO,CAACG,IAAR,CAAa,QAAb;AAC/B,YAAI,CAACP,oBAAoB,CAACD,IAAD,CAAzB,EAAiCK,OAAO,CAACG,IAAR,CAAa,YAAb;AACjC;;AACF;AACE;AAZJ;AAcD,GAfQ,EAeN,CAACV,SAAD,EAAYO,OAAZ,EAAqBR,KAAK,CAACS,IAA3B,EAAiCN,IAAjC,CAfM,CAAT;AAiBA,SAAO,yCAAP;AACD,CA3BD;;AA6BA,eAAeJ,SAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\nconst AuthGuard = props => {\n  const userStore = useSelector(store => store.user);\n  const { user = {} } = userStore;\n  const hasRegisterCompleted = user => !!user.full_name && !!user.cpf && !!user.phone_number;\n  const history = useHistory();\n\n  // const userStoree = useSelector(store => store.user || {});\n  // console.log(userStoree)\n\n  useEffect(() => {\n    switch (props.type) {\n      case \"exists\":\n        if (userStore.isAuthenticated) history.push(\"/\");\n        break;\n      case \"not-exists\":\n        if (userStore.isAuthenticated) history.push(\"/login\");\n        break;\n      case \"incomplete-registration\":\n        if (userStore.isAuthenticated) history.push(\"/login\");\n        if (!hasRegisterCompleted(user)) history.push(\"/seusdados\");\n        break;\n      default:\n        return;\n    }\n  }, [userStore, history, props.type, user]);\n\n  return <></>;\n};\n\nexport default AuthGuard;"]},"metadata":{},"sourceType":"module"}