{"ast":null,"code":"import React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\nconst AuthGuard = props => {\n  const userStore = useSelector(store => store.user.data || {});\n  const userToken = useSelector(store => store.user.token || {});\n  const {\n    user = {}\n  } = userStore; //   const hasRegisterCompleted = user =>\n  //     !!user.entity_id && !!user.cpf && !!user.phone_number;\n\n  const history = useHistory();\n  console.log(user.entity_id);\n  console.log(!!userToken);\n  useEffect(() => {\n    switch (props.type) {\n      case \"exists\":\n        if (!!userToken) history.push(\"/\");\n        break;\n\n      case \"not-exists\":\n        if (!userToken) history.push(\"/login\");\n        break;\n\n      case \"incomplete-registration\":\n        // if (!userStore.token) history.push(\"/login\");\n        if (user.cpf === undefined && !!userToken) history.push(\"/seusdados\");\n        break;\n\n      default:\n        return;\n    }\n  }, [userStore, history, props.type, user, userToken]);\n  return React.createElement(React.Fragment, null);\n};\n\nexport default AuthGuard;","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/SomLivre/novo-frontend/src/components/features/PageContainer/auth.js"],"names":["React","useEffect","useSelector","useHistory","AuthGuard","props","userStore","store","user","data","userToken","token","history","console","log","entity_id","type","push","cpf","undefined"],"mappings":"AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,UAAT,QAA2B,kBAA3B;;AAEA,MAAMC,SAAS,GAAGC,KAAK,IAAI;AACzB,QAAMC,SAAS,GAAGJ,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWC,IAAX,IAAmB,EAA7B,CAA7B;AACA,QAAMC,SAAS,GAAGR,WAAW,CAACK,KAAK,IAAIA,KAAK,CAACC,IAAN,CAAWG,KAAX,IAAoB,EAA9B,CAA7B;AACA,QAAM;AAAEH,IAAAA,IAAI,GAAG;AAAT,MAAgBF,SAAtB,CAHyB,CAI3B;AACA;;AACE,QAAMM,OAAO,GAAGT,UAAU,EAA1B;AAEEU,EAAAA,OAAO,CAACC,GAAR,CAAYN,IAAI,CAACO,SAAjB;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAY,CAAC,CAACJ,SAAd;AAEFT,EAAAA,SAAS,CAAC,MAAM;AACd,YAAQI,KAAK,CAACW,IAAd;AACE,WAAK,QAAL;AACE,YAAI,CAAC,CAACN,SAAN,EAAiBE,OAAO,CAACK,IAAR,CAAa,GAAb;AACjB;;AACF,WAAK,YAAL;AACE,YAAI,CAACP,SAAL,EAAgBE,OAAO,CAACK,IAAR,CAAa,QAAb;AAChB;;AACF,WAAK,yBAAL;AACE;AACA,YAAKT,IAAI,CAACU,GAAL,KAAaC,SAAd,IAA4B,CAAC,CAACT,SAAlC,EAA8CE,OAAO,CAACK,IAAR,CAAa,YAAb;AAC9C;;AACF;AACE;AAZJ;AAcD,GAfQ,EAeN,CAACX,SAAD,EAAYM,OAAZ,EAAqBP,KAAK,CAACW,IAA3B,EAAiCR,IAAjC,EAAuCE,SAAvC,CAfM,CAAT;AAiBA,SAAO,yCAAP;AACD,CA7BD;;AA+BA,eAAeN,SAAf","sourcesContent":["import React, { useEffect } from \"react\";\nimport { useSelector } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\nconst AuthGuard = props => {\n  const userStore = useSelector(store => store.user.data || {});\n  const userToken = useSelector(store => store.user.token || {});\n  const { user = {} } = userStore;\n//   const hasRegisterCompleted = user =>\n//     !!user.entity_id && !!user.cpf && !!user.phone_number;\n  const history = useHistory();\n\n    console.log(user.entity_id)\n    console.log(!!userToken);\n\n  useEffect(() => {\n    switch (props.type) {\n      case \"exists\":\n        if (!!userToken) history.push(\"/\");\n        break;\n      case \"not-exists\":\n        if (!userToken) history.push(\"/login\");\n        break;\n      case \"incomplete-registration\":\n        // if (!userStore.token) history.push(\"/login\");\n        if ((user.cpf === undefined) && !!userToken)  history.push(\"/seusdados\");\n        break;\n      default:\n        return;\n    }\n  }, [userStore, history, props.type, user, userToken]);\n\n  return <></>;\n};\n\nexport default AuthGuard;"]},"metadata":{},"sourceType":"module"}