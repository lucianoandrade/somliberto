{"ast":null,"code":"var _jsxFileName = \"/Users/luciano/Desktop/Projetos/SomLivre/novo-frontend/src/components/features/Show/chamada/Chamada.js\";\nimport React, { useState } from \"react\";\nimport Botao from \"../../../elements/Botao/Botao\";\nimport moment from 'moment';\nimport './chamada.scss';\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nconst Chamada = props => {\n  let havePrice = props.havePrice;\n  let classFaixaEtaria = \"faixa-etaria\";\n\n  if (havePrice) {\n    classFaixaEtaria += ' mobile';\n  }\n\n  const current_event = props.currentEvent;\n  const user = useSelector(state => state.user.data);\n  const [time, setTIme] = useState({});\n\n  const duracao = () => {\n    setInterval(function () {\n      const countDownDate = moment(current_event.date).unix() * 1000;\n      const now = new Date().getTime();\n      const distance = countDownDate - now;\n      setTIme({\n        days: Math.floor(distance / (1000 * 60 * 60 * 24)),\n        hours: Math.floor(distance % (1000 * 60 * 60 * 24) / (1000 * 60 * 60)),\n        minutes: Math.floor(distance % (1000 * 60 * 60) / (1000 * 60)),\n        seconds: Math.floor(distance % (1000 * 60) / 1000)\n      });\n\n      if (distance < 0) {\n        clearInterval(duracao);\n        return React.createElement(Botao, {\n          classes: \"red big\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, React.createElement(Link, {\n          to: \"/cadastro\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 35\n          },\n          __self: this\n        }, \"Assista agora\"));\n      }\n    }, 1000);\n  };\n\n  const date = value => {\n    return moment(value).format('DD/MM - HH:mm');\n  };\n\n  return React.createElement(\"section\", {\n    className: \"boxChamada\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"content\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47\n    },\n    __self: this\n  }, current_event && React.createElement(React.Fragment, null, React.createElement(\"h3\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, current_event.name), React.createElement(\"p\", {\n    className: \"aoVivo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, \"ao vivo\"), React.createElement(\"p\", {\n    className: \"dataHora\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, date(current_event.date)), React.createElement(\"p\", {\n    className: classFaixaEtaria,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, `Classificação etária: ${current_event.age_rating}`), user.entity_id ? React.createElement(\"time\", {\n    onLoad: duracao(),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"tempo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, \"Dias\", React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, time.days)), React.createElement(\"div\", {\n    className: \"tempo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, \"Horas\", React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, `${time.hours}`)), React.createElement(\"div\", {\n    className: \"ponto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }, \":\"), React.createElement(\"div\", {\n    className: \"tempo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, \"Minutos\", React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, `${time.minutes}`)), React.createElement(\"div\", {\n    className: \"ponto\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, \":\"), React.createElement(\"div\", {\n    className: \"tempo\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, \"Segundos\", React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }, time.seconds))) : React.createElement(Botao, {\n    classes: \"red big\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, React.createElement(Link, {\n    to: \"/cadastro\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, \"Cadastre-se\")), React.createElement(Link, {\n    to: \"/eventos\",\n    className: \"saibaMais\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, \"Saiba Mais\"))));\n};\n\nexport default Chamada;","map":{"version":3,"sources":["/Users/luciano/Desktop/Projetos/SomLivre/novo-frontend/src/components/features/Show/chamada/Chamada.js"],"names":["React","useState","Botao","moment","Link","useSelector","Chamada","props","havePrice","classFaixaEtaria","current_event","currentEvent","user","state","data","time","setTIme","duracao","setInterval","countDownDate","date","unix","now","Date","getTime","distance","days","Math","floor","hours","minutes","seconds","clearInterval","value","format","name","age_rating","entity_id"],"mappings":"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","sourcesContent":["import React, {useState} from \"react\";\nimport Botao from \"../../../elements/Botao/Botao\";\nimport moment from 'moment';\nimport './chamada.scss';\nimport { Link } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n\nconst Chamada = props => {\n   let havePrice = props.havePrice;\n   let classFaixaEtaria = \"faixa-etaria\";\n   if(havePrice) {\n      classFaixaEtaria += ' mobile';\n   }\n\n   const current_event = props.currentEvent;\n   const user = useSelector(state => state.user.data);\n\n   const [time, setTIme] = useState({})\n   const duracao = () => {\n      setInterval(function() {\n         const countDownDate = moment(current_event.date).unix() * 1000\n         const now = new Date().getTime();\n         const distance = countDownDate - now;\n\n         setTIme({\n         days : Math.floor(distance / (1000 * 60 * 60 * 24)),\n         hours : Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)),\n         minutes : Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60)),\n         seconds : Math.floor((distance % (1000 * 60)) / 1000)\n         })\n\n         if (distance < 0) {\n         clearInterval(duracao);\n         return (\n            <Botao classes=\"red big\"><Link to=\"/cadastro\">Assista agora</Link></Botao>\n         )\n         }\n      }, 1000);\n   }\n\n   const date = value => {\n      return moment(value).format('DD/MM - HH:mm');\n   };\n\n   return (\n      <section className=\"boxChamada\">\n            <div className=\"content\">\n            { current_event &&\n              <>\n                <h3>{current_event.name}</h3>\n                <p className=\"aoVivo\">ao vivo</p>\n                <p className=\"dataHora\">{date(current_event.date)}</p>\n                <p className={classFaixaEtaria}>{`Classificação etária: ${current_event.age_rating}`}</p>\n                {user.entity_id ? \n                  <time onLoad={duracao()}>\n                     <div className=\"tempo\">Dias<p>{time.days}</p></div>\n                     <div className=\"tempo\">Horas<p>{`${time.hours}`}</p></div>\n                     <div className=\"ponto\">:</div>\n                     <div className=\"tempo\">Minutos<p>{`${time.minutes}`}</p></div>\n                     <div className=\"ponto\">:</div>\n                     <div className=\"tempo\">Segundos<p>{time.seconds}</p></div>\n                  </time> \n                : <Botao classes=\"red big\"><Link to=\"/cadastro\">Cadastre-se</Link></Botao>}\n                <Link to=\"/eventos\" className=\"saibaMais\">Saiba Mais</Link>\n              </>\n             }\n            </div>\n      </section>\n   );\n};\n\nexport default Chamada;\n"]},"metadata":{},"sourceType":"module"}